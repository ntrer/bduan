{"version":3,"sources":["webpack:///C:/软件/xiaofendian-master/main.js","webpack:///C:/软件/xiaofendian-master/pages/index/index.vue?9fd8","webpack:///C:/软件/xiaofendian-master/pages/index/index.vue?799e","webpack:///C:/软件/xiaofendian-master/pages/index/index.vue?c325","webpack:///C:/软件/xiaofendian-master/pages/index/index.vue?cf7f","webpack:///C:/软件/xiaofendian-master/pages/index/index.vue"],"names":["createPage","Page","data","title","onLoad","$U","getStorage","uni","switchTab","url","methods","phoneLogin","navigateTo","appLoginWx","showLoading","getProvider","service","success","res","provider","indexOf","login","res2","getUserInfo","info","hideLoading","console","log","toLogin","fail","showToast","icon","param","wx_user_name","userInfo","nickName","head_portrait_image","avatarUrl","LogInfo","merchant_id","open_id","role","status","id","requestTask","request","$C","baseUrl","code","method","header","setStorage","err","onHeadersReceived","authorization"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=5f662952&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Users/yd/Downloads/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"软件/xiaofendian-master/pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../Users/yd/Downloads/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../Users/yd/Downloads/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../Users/yd/Downloads/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../Users/yd/Downloads/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../Users/yd/Downloads/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Users/yd/Downloads/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=5f662952&\"","var components = {\n  \"u-button\": function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../Users/yd/Downloads/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Users/yd/Downloads/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Users/yd/Downloads/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Users/yd/Downloads/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Users/yd/Downloads/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Users/yd/Downloads/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Users/yd/Downloads/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Users/yd/Downloads/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Users/yd/Downloads/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Users/yd/Downloads/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\t//引入网络请求\n\timport $H from '@/common/request.js';\n\timport $C from '@/common/config.js';\n\timport $U from '@/common/util.js';\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttitle: 'Hello'\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n            if($U.getStorage(\"LogInfo\")){\n\t\t\t\tuni.switchTab({\n\t\t\t\t   \turl:'../tabbar/yinbao/yinbao'\n\t\t\t\t   })\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\n\t\t\tphoneLogin() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '../phonelogin/phonelogin'\n\t\t\t\t})\n\t\t\t},\n\t\t\tappLoginWx() {\n\t\t\t\t\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle:'登录中...'\n\t\t\t\t})\n\t\t\t\t\n\n\t\t\t\tuni.getProvider({\n\t\t\t\t\tservice: 'oauth',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (~res.provider.indexOf('weixin')) {\n\t\t\t\t\t\t\tuni.login({\n\t\t\t\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\t\t\t\tsuccess: (res2) => {\n\t\t\t\t\t\t                \n\t\t\t\t\t\t\t\t\tuni.getUserInfo({\n\t\t\t\t\t\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\t\t\t\t\t\tsuccess: (info) => { //这里请求接口\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(res2);\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(info);\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tthis.toLogin(res2,info);\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t             \n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tfail: () => {\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"微信登录授权失败\",\n\t\t\t\t\t\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfail: () => {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: \"微信登录授权失败\",\n\t\t\t\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '请先安装微信或升级版本',\n\t\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t},\n\t\t\t\n\t\t\t// 自己服务器的登录\n\t\t\ttoLogin(data,info){\n\t\t\t\t\n\t\t\t\tlet param={\n\t\t\t\t\twx_user_name:info.userInfo.nickName,\n\t\t\t\t\thead_portrait_image:info.userInfo.avatarUrl\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlet LogInfo={\n\t\t\t\t\tmerchant_id:\"\",\n\t\t\t\t\topen_id:\"\",\n\t\t\t\t\trole:\"\",\n\t\t\t\t\tstatus:\"\",\n\t\t\t\t\twx_user_name:\"\",\n\t\t\t\t\tid:\"\"\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconst requestTask = uni.request({\n\t\t\t\t  url: $C.baseUrl+\"/public/auth_openid?js_code=\"+data.code,\n\t\t\t\t  data: param,\n\t\t\t\t  method:'POST',\n\t\t\t\t  header: {\n\t\t\t\t    'Content-Type':'application/json',\n\t\t\t\t  },\n\t\t\t\t  success(res) {\n\t\t\t\t    console.log(res.data)\n\t\t\t\t\t// 存储用户信息\n\t\t\t\t\t $U.setStorage(\"userInfo\",info.userInfo)\n\t\t\t\t\t \n\t\t\t\t\t LogInfo.id=res.data.data.id\n\t\t\t\t\t LogInfo.merchant_id=res.data.data.merchant_id\n\t\t\t\t\t LogInfo.open_id=res.data.data.open_id\n\t\t\t\t\t LogInfo.role=res.data.data.role\n\t\t\t\t\t LogInfo.status=res.data.data.status\n\t\t\t\t\t LogInfo.wx_user_name=res.data.data.wx_user_name\n\t\t\t\t\t console.log(LogInfo)\n\t\t\t\t\t $U.setStorage(\"LogInfo\",LogInfo)\n\t\t\t\t\t//请求成功\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:\"登录成功\"\n\t\t\t\t\t})\n\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t   \turl:'../tabbar/yinbao/yinbao'\n\t\t\t\t\t   })\n\t\t\t\t\t \n\t\t\t\t  },\n\t\t\t\t  fail: (err) => {\n\t\t\t\t  \tconsole.log(err)\n\t\t\t\t  \t//请求失败\n\t\t\t\t  \tuni.showToast({\n\t\t\t\t  \t\ttitle:\"登录失败\"\n\t\t\t\t  \t})\n\t\t\t\t  }\n\t\t\t\t})\n\t\t\t\trequestTask.onHeadersReceived((res) => {\n\t\t\t\t\t//存储token\n\t\t\t\t  $U.setStorage(\"token\",res.header.authorization)\n\t\t\t\t  console.log('onHeadersReceived: ', res)\n\t\t\t\t})\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n"],"sourceRoot":""}